(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2182],{5360:(e,t,a)=>{"use strict";function r(){{let e=sessionStorage.getItem("admin_token");return console.log(e),e}}async function o(e){let t=r(),a=new FormData;Object.entries(e).forEach(e=>{let[t,r]=e;a.append(t,r)});let o=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"},body:a});if(console.log(o),!o.ok)throw Error("Failed to create category");return o.json()}async function n(){let e=r(),t=await fetch("".concat("https://live.maypascollege.com","/api/v1/course/categories"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch categories");return t.json()}async function s(e,t){let a=r(),o=new FormData;Object.entries(t).forEach(e=>{let[t,a]=e;o.append(t,a)});let n=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json"},body:o});if(!n.ok)throw Error("Failed to update category");return n.json()}async function l(e){let t=r(),a=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to delete category");return a.json()}a.d(t,{K7:()=>l,bW:()=>n,st:()=>s,zZ:()=>o})},8516:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses",function(){return a(9828)}])},8760:(e,t,a)=>{"use strict";function r(){return sessionStorage.getItem("admin_token")}async function o(){let e=r(),t=await fetch("".concat("https://live.maypascollege.com","/api/v1/courses/get"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch courses list");let a=await t.json();return Array.isArray(a)?a:a.data||[]}async function n(e){let t=r(),a=new FormData;for(let t of(Object.entries(e).forEach(e=>{let[t,r]=e;"course_info_name[]"===t&&Array.isArray(r)?r.forEach(e=>a.append("course_info_name[]",e)):"course_info_value[]"===t&&Array.isArray(r)?r.forEach(e=>a.append("course_info_value[]",e)):"featured_image"===t&&r?r instanceof File?a.append("featured_image",r):Array.isArray(r)&&r.forEach(e=>a.append("featured_image",e)):a.append(t,r)}),a.entries()))console.log("FormData:",t[0],":",t[1]);console.log(e),console.log("Creating course with FormData:");let o=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"},body:a});if(console.log(o),!o.ok)throw Error("Failed to create course");return o.json()}async function s(e,t){let a=r(),o=new FormData;for(let e of(Object.entries(t).forEach(e=>{let[t,a]=e;"course_info_name[]"===t&&Array.isArray(a)?a.forEach(e=>o.append("course_info_name[]",e)):"course_info_value[]"===t&&Array.isArray(a)?a.forEach(e=>o.append("course_info_value[]",e)):"featured_image"===t&&a?a instanceof File?o.append("featured_image",a):Array.isArray(a)&&a.forEach(e=>o.append("featured_image",e)):o.append(t,a)}),o.entries()))console.log("FormData:",e[0],":",e[1]);let n=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json"},body:o});if(!n.ok)throw Error("Failed to update course");return n.json()}async function l(e){let t=r(),a=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to delete course");return a.json()}a.d(t,{C_:()=>n,D:()=>o,J4:()=>s,zs:()=>l})},9828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(7876),o=a(4695),n=a(4232),s=a(439),l=a(5753),i=a(8230),c=a.n(i);function d(e){var t;let{item:a,categories:o}=e,n=(null==o||null==(t=o.find(e=>String(e.id)===String(a.course_category_id)))?void 0:t.name)||"Category";return(0,r.jsxs)("div",{className:"courses__item shine__animate-item",children:[(0,r.jsxs)("div",{className:"courses__item-thumb",children:[(0,r.jsx)(c(),{href:"/course/".concat(a.id),className:"courses__item-tag",style:{backgroundColor:"#4f8cff"},children:n}),(0,r.jsx)(c(),{href:"/course/".concat(a.id),className:"shine__animate-link",children:(0,r.jsx)("img",{src:a.featured_image_path?"https://live.maypascollege.com/storage/"+a.featured_image_path:"/assets/img/courses/default.png",alt:"img"})})]}),(0,r.jsxs)("div",{className:"courses__item-content",children:[(0,r.jsx)("h5",{className:"title",children:(0,r.jsx)(c(),{href:"/course/".concat(a.id),children:a.title})}),(0,r.jsx)("div",{className:"courses__item-bottom",children:(0,r.jsxs)("h5",{className:"price",children:["$",a.price]})})]})]})}var u=a(8760),h=a(5360);let p=()=>{var e,t,a,i,c,p;let[m,f]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[j,y]=(0,n.useState)(!0),[_,x]=(0,n.useState)(""),{courseList:w,courseSort:N}=(0,o.d4)(e=>e.courseFilter),{category:A,instructor:b,price:S,language:E,difficulty:F}=w||{},{sort:O,perPage:k}=N,C=(0,o.wA)();(0,n.useEffect)(()=>{y(!0),x(""),Promise.all([(0,u.D)().then(e=>Array.isArray(e)?e:e.data||[]),(0,h.bW)().then(e=>Array.isArray(e)?e:e.data||[])]).then(e=>{let[t,a]=e;f(t),v(a)}).catch(()=>{x("Oops, something went wrong. Please try again later."),f([]),v([])}).finally(()=>y(!1))},[]);let T=null==m||null==(p=m.filter(e=>(null==A?void 0:A.length)!==0?null==A?void 0:A.includes(String(e.course_category_id)):e))||null==(c=p.filter(e=>{var t;return(null==b?void 0:b.length)!==0?null==b?void 0:b.includes(null==e||null==(t=e.instructor)?void 0:t.split(" ").join("").toLocaleLowerCase()):e}))||null==(i=c.filter(e=>(null==S?void 0:S.length)!==0?null==S?void 0:S.includes(String(null==e?void 0:e.price)):e))||null==(a=i.filter(e=>{var t;return(null==E?void 0:E.length)!==0?null==E?void 0:E.includes(null==e||null==(t=e.language)?void 0:t.split(" ").join("").toLocaleLowerCase()):e}))||null==(t=a.filter(e=>{var t;return(null==F?void 0:F.length)!==0?null==F?void 0:F.includes(null==e||null==(t=e.difficulty)?void 0:t.split(" ").join("").toLocaleLowerCase()):e}))||null==(e=t.sort((e,t)=>"des"===O?e.id>t.id&&-1:e.id<t.id&&-1).slice(k.start,0!==k.end?k.end:12))?void 0:e.map(e=>(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(d,{item:e,categories:g})},e.id));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"shop-top-wrap courses-top-wrap",children:(0,r.jsxs)("div",{className:"row align-items-center",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsx)("div",{className:"shop-top-left",children:j?(0,r.jsx)("p",{children:"Loading courses..."}):_?(0,r.jsx)("p",{style:{color:"#ff4f4f"},children:_}):(0,r.jsxs)("p",{children:["We found ",null==T?void 0:T.length," courses for you"]})})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"d-flex justify-content-center justify-content-md-end align-items-center",children:[(0,r.jsx)("div",{children:(null==A?void 0:A.length)!==0||(null==b?void 0:b.length)!==0||(null==S?void 0:S.length)!==0||(null==E?void 0:E.length)!==0||(null==F?void 0:F.length)!==0||""!==O||0!==k.start||0!==k.end?(0,r.jsx)("button",{onClick:()=>{C((0,s.F)()),C((0,s.iH)()),C((0,s.VN)()),C((0,s.Yv)()),C((0,s.tB)()),C((0,l.hK)()),C((0,l.CF)()),C((0,l.hv)()),C((0,l.k3)()),C((0,l.LQ)()),C((0,s.s1)("")),C((0,s.us)({start:0,end:0}))},className:"btn btn-reset text-nowrap me-2",children:"Reset"}):void 0}),(0,r.jsx)("div",{className:"shop-top-right m-0 ms-md-auto",children:(0,r.jsxs)("select",{value:O,name:"orderby",className:"orderby",onChange:e=>{C((0,s.s1)(e.target.value))},children:[(0,r.jsx)("option",{value:"",children:"Sort by (default)"}),(0,r.jsx)("option",{value:"asc",children:"Newest"}),(0,r.jsx)("option",{value:"des",children:"Oldest"})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("select",{onChange:e=>{let t=JSON.parse(e.target.value);C((0,s.us)(t))},className:"chosen-single form-select ms-3 ",value:JSON.stringify(k),children:[(0,r.jsx)("option",{value:JSON.stringify({start:0,end:0}),children:"All"}),(0,r.jsx)("option",{value:JSON.stringify({start:0,end:10}),children:"10 per page"}),(0,r.jsx)("option",{value:JSON.stringify({start:0,end:20}),children:"20 per page"}),(0,r.jsx)("option",{value:JSON.stringify({start:0,end:30}),children:"30 per page"})]})})]})})]})}),(0,r.jsx)("div",{className:"row courses__grid-wrap row-cols-1 row-cols-xl-3 row-cols-lg-2 row-cols-md-2 row-cols-sm-1",children:j||_?null:T})]})};function m(){let[e,t]=(0,n.useState)([]),a=(0,o.wA)(),l=(0,o.d4)(e=>e.courseFilter.courseList.category);return(0,n.useEffect)(()=>{(0,h.bW)().then(e=>{t(Array.isArray(e)?e:e.data||[])})},[]),(0,r.jsxs)("div",{className:"filter-categories",children:[(0,r.jsx)("h5",{children:"Categories"}),(0,r.jsx)("ul",{children:e.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:null==l?void 0:l.includes(String(e.id)),onChange:()=>{var t;return t=String(e.id),void a((0,s.Ah)(t))}}),e.name]})},e.id))})]})}var f=a(9835);function g(){let[e,t]=(0,n.useState)(1);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.A,{headerStyle:3,footerStyle:1,breadcrumbTitle:"Our Courses",children:(0,r.jsx)("section",{className:"all-courses-area section-py-120",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xl-3 col-lg-4 order-2 order-lg-0",children:(0,r.jsx)(m,{})}),(0,r.jsx)("div",{className:"col-xl-9 col-lg-8",children:(0,r.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,r.jsx)("div",{className:1===e?"tab-pane fade show active":"tab-pane fade",children:(0,r.jsx)(p,{})})})})]})})})})})}}},e=>{e.O(0,[9008,633,9835,636,6593,8792],()=>e(e.s=8516)),_N_E=e.O()}]);