(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8471],{1980:(e,c,n)=>{"use strict";n.r(c),n.d(c,{default:()=>N});var a=n(7876),o=n(1703),t=n.n(o),r=n(9835),s=n(8230),i=n.n(s),u=n(9099),d=n(4232),l=n(3899);let y=JSON.parse('[{"country_code":1,"country_name":"Afghanistan"},{"country_code":2,"country_name":"Albania"},{"country_code":3,"country_name":"Algeria"},{"country_code":4,"country_name":"American Samoa"},{"country_code":5,"country_name":"Andorra"},{"country_code":6,"country_name":"Angola"},{"country_code":7,"country_name":"Anguilla"},{"country_code":8,"country_name":"Antarctica"},{"country_code":9,"country_name":"Antigua and Barbuda"},{"country_code":10,"country_name":"Argentina"},{"country_code":11,"country_name":"Armenia"},{"country_code":12,"country_name":"Aruba"},{"country_code":13,"country_name":"Australia"},{"country_code":14,"country_name":"Austria"},{"country_code":15,"country_name":"Azerbaijan"},{"country_code":16,"country_name":"Bahamas"},{"country_code":17,"country_name":"Bahrain"},{"country_code":18,"country_name":"Bangladesh"},{"country_code":19,"country_name":"Barbados"},{"country_code":20,"country_name":"Belarus"},{"country_code":21,"country_name":"Belgium"},{"country_code":22,"country_name":"Belize"},{"country_code":23,"country_name":"Benin"},{"country_code":24,"country_name":"Bermuda"},{"country_code":25,"country_name":"Bhutan"},{"country_code":26,"country_name":"Bolivia"},{"country_code":27,"country_name":"Bosnia and Herzegowina"},{"country_code":28,"country_name":"Botswana"},{"country_code":29,"country_name":"Bouvet Island"},{"country_code":30,"country_name":"Brazil"},{"country_code":31,"country_name":"British Indian Ocean Territory"},{"country_code":32,"country_name":"Brunei Darussalam"},{"country_code":33,"country_name":"Bulgaria"},{"country_code":34,"country_name":"Burkina Faso"},{"country_code":35,"country_name":"Burundi"},{"country_code":36,"country_name":"Cambodia"},{"country_code":37,"country_name":"Cameroon"},{"country_code":38,"country_name":"Canada"},{"country_code":39,"country_name":"Cape Verde"},{"country_code":40,"country_name":"Cayman Islands"},{"country_code":41,"country_name":"Central African Republic"},{"country_code":42,"country_name":"Chad"},{"country_code":43,"country_name":"Chile"},{"country_code":44,"country_name":"China"},{"country_code":45,"country_name":"Christmas Island"},{"country_code":46,"country_name":"Cocos (Keeling) Islands"},{"country_code":47,"country_name":"Colombia"},{"country_code":48,"country_name":"Comoros"},{"country_code":49,"country_name":"Congo"},{"country_code":50,"country_name":"Congo, the Democratic Republic of the"},{"country_code":51,"country_name":"Cook Islands"},{"country_code":52,"country_name":"Costa Rica"},{"country_code":53,"country_name":"Cote d\'Ivoire"},{"country_code":54,"country_name":"Croatia (Hrvatska)"},{"country_code":55,"country_name":"Cuba"},{"country_code":56,"country_name":"Cyprus"},{"country_code":57,"country_name":"Czech Republic"},{"country_code":58,"country_name":"Denmark"},{"country_code":59,"country_name":"Djibouti"},{"country_code":60,"country_name":"Dominica"},{"country_code":61,"country_name":"Dominican Republic"},{"country_code":62,"country_name":"East Timor"},{"country_code":63,"country_name":"Ecuador"},{"country_code":64,"country_name":"Egypt"},{"country_code":65,"country_name":"El Salvador"},{"country_code":66,"country_name":"Equatorial Guinea"},{"country_code":67,"country_name":"Eritrea"},{"country_code":68,"country_name":"Estonia"},{"country_code":69,"country_name":"Ethiopia"},{"country_code":70,"country_name":"Falkland Islands (Malvinas)"},{"country_code":71,"country_name":"Faroe Islands"},{"country_code":72,"country_name":"Fiji"},{"country_code":73,"country_name":"Finland"},{"country_code":74,"country_name":"France"},{"country_code":75,"country_name":"France Metropolitan"},{"country_code":76,"country_name":"French Guiana"},{"country_code":77,"country_name":"French Polynesia"},{"country_code":78,"country_name":"French Southern Territories"},{"country_code":79,"country_name":"Gabon"},{"country_code":80,"country_name":"Gambia"},{"country_code":81,"country_name":"Georgia"},{"country_code":82,"country_name":"Germany"},{"country_code":83,"country_name":"Ghana"},{"country_code":84,"country_name":"Gibraltar"},{"country_code":85,"country_name":"Greece"},{"country_code":86,"country_name":"Greenland"},{"country_code":87,"country_name":"Grenada"},{"country_code":88,"country_name":"Guadeloupe"},{"country_code":89,"country_name":"Guam"},{"country_code":90,"country_name":"Guatemala"},{"country_code":91,"country_name":"Guinea"},{"country_code":92,"country_name":"Guinea-Bissau"},{"country_code":93,"country_name":"Guyana"},{"country_code":94,"country_name":"Haiti"},{"country_code":95,"country_name":"Heard and Mc Donald Islands"},{"country_code":96,"country_name":"Holy See (Vatican City State)"},{"country_code":97,"country_name":"Honduras"},{"country_code":98,"country_name":"Hong Kong"},{"country_code":99,"country_name":"Hungary"},{"country_code":100,"country_name":"Iceland"},{"country_code":101,"country_name":"India"},{"country_code":102,"country_name":"Indonesia"},{"country_code":103,"country_name":"Iran (Islamic Republic of)"},{"country_code":104,"country_name":"Iraq"},{"country_code":105,"country_name":"Ireland"},{"country_code":106,"country_name":"Israel"},{"country_code":107,"country_name":"Italy"},{"country_code":108,"country_name":"Jamaica"},{"country_code":109,"country_name":"Japan"},{"country_code":110,"country_name":"Jordan"},{"country_code":111,"country_name":"Kazakhstan"},{"country_code":112,"country_name":"Kenya"},{"country_code":113,"country_name":"Kiribati"},{"country_code":114,"country_name":"Korea, Democratic People\'s Republic of"},{"country_code":115,"country_name":"Korea, Republic of"},{"country_code":116,"country_name":"Kuwait"},{"country_code":117,"country_name":"Kyrgyzstan"},{"country_code":118,"country_name":"Lao, People\'s Democratic Republic"},{"country_code":119,"country_name":"Latvia"},{"country_code":120,"country_name":"Lebanon"},{"country_code":121,"country_name":"Lesotho"},{"country_code":122,"country_name":"Liberia"},{"country_code":123,"country_name":"Libyan Arab Jamahiriya"},{"country_code":124,"country_name":"Liechtenstein"},{"country_code":125,"country_name":"Lithuania"},{"country_code":126,"country_name":"Luxembourg"},{"country_code":127,"country_name":"Macau"},{"country_code":128,"country_name":"Macedonia, The Former Yugoslav Republic of"},{"country_code":129,"country_name":"Madagascar"},{"country_code":130,"country_name":"Malawi"},{"country_code":131,"country_name":"Malaysia"},{"country_code":132,"country_name":"Maldives"},{"country_code":133,"country_name":"Mali"},{"country_code":134,"country_name":"Malta"},{"country_code":135,"country_name":"Marshall Islands"},{"country_code":136,"country_name":"Martinique"},{"country_code":137,"country_name":"Mauritania"},{"country_code":138,"country_name":"Mauritius"},{"country_code":139,"country_name":"Mayotte"},{"country_code":140,"country_name":"Mexico"},{"country_code":141,"country_name":"Micronesia, Federated States of"},{"country_code":142,"country_name":"Moldova, Republic of"},{"country_code":143,"country_name":"Monaco"},{"country_code":144,"country_name":"Mongolia"},{"country_code":145,"country_name":"Montserrat"},{"country_code":146,"country_name":"Morocco"},{"country_code":147,"country_name":"Mozambique"},{"country_code":148,"country_name":"Myanmar"},{"country_code":149,"country_name":"Namibia"},{"country_code":150,"country_name":"Nauru"},{"country_code":151,"country_name":"Nepal"},{"country_code":152,"country_name":"Netherlands"},{"country_code":153,"country_name":"Netherlands Antilles"},{"country_code":154,"country_name":"New Caledonia"},{"country_code":155,"country_name":"New Zealand"},{"country_code":156,"country_name":"Nicaragua"},{"country_code":157,"country_name":"Niger"},{"country_code":158,"country_name":"Nigeria"},{"country_code":159,"country_name":"Niue"},{"country_code":160,"country_name":"Norfolk Island"},{"country_code":161,"country_name":"Northern Mariana Islands"},{"country_code":162,"country_name":"Norway"},{"country_code":163,"country_name":"Oman"},{"country_code":164,"country_name":"Pakistan"},{"country_code":165,"country_name":"Palau"},{"country_code":166,"country_name":"Panama"},{"country_code":167,"country_name":"Papua New Guinea"},{"country_code":168,"country_name":"Paraguay"},{"country_code":169,"country_name":"Peru"},{"country_code":170,"country_name":"Philippines"},{"country_code":171,"country_name":"Pitcairn"},{"country_code":172,"country_name":"Poland"},{"country_code":173,"country_name":"Portugal"},{"country_code":174,"country_name":"Puerto Rico"},{"country_code":175,"country_name":"Qatar"},{"country_code":176,"country_name":"Reunion"},{"country_code":177,"country_name":"Romania"},{"country_code":178,"country_name":"Russian Federation"},{"country_code":179,"country_name":"Rwanda"},{"country_code":180,"country_name":"Saint Kitts and Nevis"},{"country_code":181,"country_name":"Saint Lucia"},{"country_code":182,"country_name":"Saint Vincent and the Grenadines"},{"country_code":183,"country_name":"Samoa"},{"country_code":184,"country_name":"San Marino"},{"country_code":185,"country_name":"Sao Tome and Principe"},{"country_code":186,"country_name":"Saudi Arabia"},{"country_code":187,"country_name":"Senegal"},{"country_code":188,"country_name":"Seychelles"},{"country_code":189,"country_name":"Sierra Leone"},{"country_code":190,"country_name":"Singapore"},{"country_code":191,"country_name":"Slovakia (Slovak Republic)"},{"country_code":192,"country_name":"Slovenia"},{"country_code":193,"country_name":"Solomon Islands"},{"country_code":194,"country_name":"Somalia"},{"country_code":195,"country_name":"South Africa"},{"country_code":196,"country_name":"South Georgia and the South Sandwich Islands"},{"country_code":197,"country_name":"Spain"},{"country_code":198,"country_name":"Sri Lanka"},{"country_code":199,"country_name":"St. Helena"},{"country_code":200,"country_name":"St. Pierre and Miquelon"},{"country_code":201,"country_name":"Sudan"},{"country_code":202,"country_name":"Suriname"},{"country_code":203,"country_name":"Svalbard and Jan Mayen Islands"},{"country_code":204,"country_name":"Swaziland"},{"country_code":205,"country_name":"Sweden"},{"country_code":206,"country_name":"Switzerland"},{"country_code":207,"country_name":"Syrian Arab Republic"},{"country_code":208,"country_name":"Taiwan, Province of China"},{"country_code":209,"country_name":"Tajikistan"},{"country_code":210,"country_name":"Tanzania, United Republic of"},{"country_code":211,"country_name":"Thailand"},{"country_code":212,"country_name":"Togo"},{"country_code":213,"country_name":"Tokelau"},{"country_code":214,"country_name":"Tonga"},{"country_code":215,"country_name":"Trinidad and Tobago"},{"country_code":216,"country_name":"Tunisia"},{"country_code":217,"country_name":"Turkey"},{"country_code":218,"country_name":"Turkmenistan"},{"country_code":219,"country_name":"Turks and Caicos Islands"},{"country_code":220,"country_name":"Tuvalu"},{"country_code":221,"country_name":"Uganda"},{"country_code":222,"country_name":"Ukraine"},{"country_code":223,"country_name":"United Arab Emirates"},{"country_code":224,"country_name":"United Kingdom"},{"country_code":225,"country_name":"United States"},{"country_code":226,"country_name":"United States Minor Outlying Islands"},{"country_code":227,"country_name":"Uruguay"},{"country_code":228,"country_name":"Uzbekistan"},{"country_code":229,"country_name":"Vanuatu"},{"country_code":230,"country_name":"Venezuela"},{"country_code":231,"country_name":"Vietnam"},{"country_code":232,"country_name":"Virgin Islands (British)"},{"country_code":233,"country_name":"Virgin Islands (U.S.)"},{"country_code":234,"country_name":"Wallis and Futuna Islands"},{"country_code":235,"country_name":"Western Sahara"},{"country_code":236,"country_name":"Yemen"},{"country_code":237,"country_name":"Yugoslavia"},{"country_code":238,"country_name":"Zambia"},{"country_code":239,"country_name":"Zimbabwe"}]');var m=n(5360),_=n(8760),p=n(4241),h=n(9742),x=n(4301);function j(e){let{onClose:c}=e;return(0,a.jsxs)("div",{onClick:c,className:"jsx-42ba2cbc42f58365 thankyou-popup-overlay",children:[(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-42ba2cbc42f58365 thankyou-popup-content",children:[(0,a.jsx)("h2",{className:"jsx-42ba2cbc42f58365",children:"Thank You!"}),(0,a.jsx)("p",{className:"jsx-42ba2cbc42f58365",children:"Your payment was successful. You are now enrolled in the course."}),(0,a.jsx)("button",{onClick:c,className:"jsx-42ba2cbc42f58365 btn",children:"Close"})]}),(0,a.jsx)(t(),{id:"42ba2cbc42f58365",children:".thankyou-popup-overlay.jsx-42ba2cbc42f58365{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.45);z-index:99999;display:flex;align-items:center;justify-content:center}.thankyou-popup-content.jsx-42ba2cbc42f58365{background:#fff;border-radius:12px;box-shadow:0 2px 16px rgba(0,0,0,.08);padding:2rem;max-width:420px;margin:2rem auto;text-align:center}"})]})}let b=(0,p.c)("".concat("pk_live_51PJbmE2M3OpTdQTmb4IDWXNBRlMB3Ob8CQ5knYwNzj4Y0znwCZV6SpQMnx1GRgXpLNVllgyFz9oSMHE5Q4Xh2DV500u91TZ1WT"));function g(e){let{personal:c,course:n,setEnrollError:o,resetEnrollForm:r,showThankYou:s,setShowThankYou:i}=e,u=(0,h.t2)(),l=(0,h.HH)(),[y,m]=(0,d.useState)(!1),_=async e=>{if(e.preventDefault(),o(""),m(!0),!u||!l){o("Stripe is not loaded yet."),m(!1);return}try{let e=await fetch("".concat("https://live.maypascollege.com","/api/v1/stripe/payment/intent/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,firstName:c.firstName,lastName:c.lastName,phone:c.phone,country:c.country,country_code:c.country_code,fee:String(n.price),currency:"gbp",off_session:!1,confirm:!1,course_id:String(n.id),description:"".concat(n.title," Fee"),receipt_email:c.email,metadata_student_name:"".concat(c.firstName," ").concat(c.lastName)})}),a=await e.json();if(!e.ok||!(null==a?void 0:a.secretKey))throw Error(a.message||"Failed to create payment");let o=l.getElement(h.hA);console.log("Got here");let t=await u.confirmCardPayment(a.secretKey,{payment_method:{card:o,billing_details:{name:"".concat(c.firstName," ").concat(c.lastName),email:c.email}}});if(t.error)throw Error(t.error.message);console.log(t),"succeeded"===t.paymentIntent.status&&(await fetch("".concat("https://live.maypascollege.com","/api/v1/stripe/payment/intent/confirm"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,firstName:c.firstName,lastName:c.lastName,phone:c.phone,country_code:c.country_code,fee:String(n.price),currency:"gbp",off_session:!1,payment_intent_id:t.paymentIntent.id,confirm:!0,course_id:String(n.id),description:"".concat(n.title," Fee"),receipt_email:c.email,metadata_student_name:"".concat(c.firstName," ").concat(c.lastName)})}),x.oR.success("Stripe payment successful!"),r(),i(!0))}catch(e){o(e.message||"Stripe payment failed.")}finally{m(!1)}};return(0,a.jsxs)("form",{onSubmit:_,className:"jsx-8c58fead2b830f47",children:[(0,a.jsx)("div",{style:{marginBottom:16},className:"jsx-8c58fead2b830f47",children:(0,a.jsx)(h.hA,{options:{style:{base:{fontSize:"16px"}}}})}),(0,a.jsx)("button",{type:"submit",style:{marginTop:8},disabled:y,className:"jsx-8c58fead2b830f47 btn",children:y?(0,a.jsxs)("span",{className:"jsx-8c58fead2b830f47",children:[(0,a.jsx)("span",{style:{display:"inline-block",width:18,height:18,border:"2px solid #fff",borderTop:"2px solid #4f8cff",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginRight:8,verticalAlign:"middle"},className:"jsx-8c58fead2b830f47 spinner"}),"Processing..."]}):"Pay with Stripe"}),(0,a.jsx)(t(),{id:"8c58fead2b830f47",children:"@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"})]})}function f(e){let{step:c,setStep:n,entryReq:o,setEntryReq:r,personal:s,setPersonal:i,paymentMethod:u,setPaymentMethod:d,stripeCard:y,setStripeCard:m,enrollError:_,setEnrollError:p,countryOptions:x,course:j,categoryName:f,resetEnrollForm:N,showThankYou:v,setShowThankYou:S}=e,k=async()=>{try{let e=await fetch("".concat("https://live.maypascollege.com","/api/v1/paypal/payment/intent/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,firstName:s.firstName,lastName:s.lastName,phone:s.phone,country:s.country,country_code:s.country_code,fee:String(j.price),currency:"gbp",description:"".concat(j.title," Fee"),receipt_email:s.email,metadata_student_name:"".concat(s.firstName," ").concat(s.lastName)})}),c=await e.json();if(!e.ok)throw Error(c.message||"Failed to initiate PayPal");(null==c?void 0:c.approval_url)?window.location.href=c.approval_url:(alert("PayPal payment successful!"),N())}catch(e){console.error(e),p(e.message||"PayPal payment failed.")}};return(0,a.jsxs)("div",{className:"jsx-ec180b0cc1d42377 enroll-modal",children:[(0,a.jsxs)("div",{className:"jsx-ec180b0cc1d42377 enroll-steps",children:[(0,a.jsxs)("div",{style:{display:1===c?"block":"none"},className:"jsx-ec180b0cc1d42377 enroll-step",children:[(0,a.jsx)("h4",{className:"jsx-ec180b0cc1d42377",children:"Course Information"}),(0,a.jsxs)("p",{className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("strong",{className:"jsx-ec180b0cc1d42377",children:"Course:"})," ",j.title]}),(0,a.jsxs)("p",{className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("strong",{className:"jsx-ec180b0cc1d42377",children:"Category:"})," ",f]}),(0,a.jsxs)("p",{className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("strong",{className:"jsx-ec180b0cc1d42377",children:"Price:"})," $",j.price]}),(0,a.jsx)("button",{onClick:()=>n(2),className:"jsx-ec180b0cc1d42377 btn",children:"Next"})]}),(0,a.jsxs)("div",{style:{display:2===c?"block":"none"},className:"jsx-ec180b0cc1d42377 enroll-step",children:[(0,a.jsx)("h4",{className:"jsx-ec180b0cc1d42377",children:"Entry Requirements"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsxs)("label",{className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.age,onChange:e=>r({...o,age:e.target.checked}),className:"jsx-ec180b0cc1d42377"})," ","I confirm that I am 16 years or older."]})}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsxs)("label",{className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.qualification,onChange:e=>r({...o,qualification:e.target.checked}),className:"jsx-ec180b0cc1d42377"})," ","I confirm that I have a high school qualification or its equivalent."]})}),_&&(0,a.jsx)("div",{style:{color:"red",margin:"10px 0"},className:"jsx-ec180b0cc1d42377",children:_}),(0,a.jsx)("button",{onClick:()=>n(1),className:"jsx-ec180b0cc1d42377 btn",children:"Back"})," ",(0,a.jsx)("button",{onClick:()=>{if(!o.age||!o.qualification)return void p("Please confirm both entry requirements.");p(""),n(3)},className:"jsx-ec180b0cc1d42377 btn",children:"Next"})]}),(0,a.jsxs)("div",{style:{display:3===c?"block":"none"},className:"jsx-ec180b0cc1d42377 enroll-step",children:[(0,a.jsx)("h4",{className:"jsx-ec180b0cc1d42377",children:"Personal Details"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)("input",{type:"text",placeholder:"First Name",value:s.firstName,onChange:e=>i({...s,firstName:e.target.value}),className:"jsx-ec180b0cc1d42377"})}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)("input",{type:"text",placeholder:"Last Name",value:s.lastName,onChange:e=>i({...s,lastName:e.target.value}),className:"jsx-ec180b0cc1d42377"})}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)("input",{type:"email",placeholder:"Email Address",value:s.email,onChange:e=>i({...s,email:e.target.value}),className:"jsx-ec180b0cc1d42377"})}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)("input",{type:"text",placeholder:"Phone Number",value:s.phone,onChange:e=>i({...s,phone:e.target.value}),className:"jsx-ec180b0cc1d42377"})}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)(e=>{let{countryOptions:c,personal:n,setPersonal:o}=e;return(0,a.jsx)(l.Ay,{options:c,value:c.find(e=>e.value===n.country_code)||null,onChange:e=>o({...n,country:e?e.label:"",country_code:e?e.value:""}),placeholder:"Select or type a country...",isSearchable:!0})},{countryOptions:x,personal:s,setPersonal:i,className:"jsx-ec180b0cc1d42377"})}),_&&(0,a.jsx)("div",{style:{color:"red",margin:"10px 0"},className:"jsx-ec180b0cc1d42377",children:_}),(0,a.jsx)("button",{onClick:()=>n(2),className:"jsx-ec180b0cc1d42377 btn",children:"Back"})," ",(0,a.jsx)("button",{onClick:()=>{if(!s.firstName||!s.lastName||!s.email||!s.phone||!s.country||!s.country_code)return void p("Please fill all personal details.");p(""),n(4)},className:"jsx-ec180b0cc1d42377 btn",children:"Next"})]}),(0,a.jsxs)("div",{style:{display:4===c?"block":"none"},className:"jsx-ec180b0cc1d42377 enroll-step",children:[(0,a.jsx)("h4",{className:"jsx-ec180b0cc1d42377",children:"Payment Details"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:(0,a.jsxs)("label",{className:"jsx-ec180b0cc1d42377",children:["Payment Method:"," ",(0,a.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("option",{value:"",className:"jsx-ec180b0cc1d42377",children:"Select"}),(0,a.jsx)("option",{value:"paypal",className:"jsx-ec180b0cc1d42377",children:"PayPal"}),(0,a.jsx)("option",{value:"stripe",className:"jsx-ec180b0cc1d42377",children:"Stripe"}),(0,a.jsx)("option",{value:"bank",className:"jsx-ec180b0cc1d42377",children:"Bank Transfer"})]})]})}),"paypal"===u&&(0,a.jsx)("div",{style:{margin:"15px 0"},className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)("button",{onClick:k,className:"jsx-ec180b0cc1d42377 btn",children:"Pay with PayPal"})}),"stripe"===u&&(0,a.jsx)("div",{style:{margin:"15px 0"},className:"jsx-ec180b0cc1d42377",children:(0,a.jsx)(h.S8,{stripe:b,children:(0,a.jsx)(g,{personal:s,course:j,setEnrollError:p,resetEnrollForm:N,showThankYou:v,setShowThankYou:S})})}),"bank"===u&&(0,a.jsxs)("div",{style:{margin:"15px 0",background:"#f7f7f7",padding:15,borderRadius:8},className:"jsx-ec180b0cc1d42377",children:[(0,a.jsx)("strong",{className:"jsx-ec180b0cc1d42377",children:"Bank Transfer"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:"Account Name: Maypas College LTD"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:"Bank: Barclay’s Bank"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:"Account Number: 50800929"}),(0,a.jsx)("div",{className:"jsx-ec180b0cc1d42377",children:"Sort Code: 20-49-17"}),(0,a.jsxs)("div",{className:"jsx-ec180b0cc1d42377",children:["Course Fee: \xa3",j.price]}),(0,a.jsxs)("div",{style:{marginTop:8,fontStyle:"italic"},className:"jsx-ec180b0cc1d42377",children:["Instruction: Email proof of payment to"," ",(0,a.jsx)("a",{href:"mailto:studentsupport@maypascollege.com",className:"jsx-ec180b0cc1d42377",children:"studentsupport@maypascollege.com"})]})]}),_&&(0,a.jsx)("div",{style:{color:"red",margin:"10px 0"},className:"jsx-ec180b0cc1d42377",children:_}),(0,a.jsx)("button",{onClick:()=>n(3),className:"jsx-ec180b0cc1d42377 btn",children:"Back"})]})]}),(0,a.jsx)("button",{style:{marginTop:20},onClick:N,className:"jsx-ec180b0cc1d42377 btn btn-border",children:"Cancel"}),(0,a.jsx)(t(),{id:"ec180b0cc1d42377",children:".enroll-modal.jsx-ec180b0cc1d42377{background:#fff;border-radius:12px;box-shadow:0 2px 16px rgba(0,0,0,.08);padding:2rem;max-width:420px;margin:2rem auto;position:relative;z-index:1000}.enroll-steps.jsx-ec180b0cc1d42377 input.jsx-ec180b0cc1d42377,.enroll-steps.jsx-ec180b0cc1d42377 select.jsx-ec180b0cc1d42377{width:100%;margin-bottom:10px;padding:8px;border-radius:4px;border:1px solid#ddd}.enroll-steps.jsx-ec180b0cc1d42377 button.btn.jsx-ec180b0cc1d42377{margin-top:10px}"})]})}let N=()=>{var e;let c=(0,u.useRouter)(),[n,o]=(0,d.useState)(null),[s,l]=(0,d.useState)([]),[p,h]=(0,d.useState)([]),[x,b]=(0,d.useState)(!0),[g,N]=(0,d.useState)(""),[v,S]=(0,d.useState)(!1),k=c.query.id,[w,C]=(0,d.useState)(!1);(0,d.useEffect)(()=>{k&&(b(!0),N(""),fetch("".concat("https://live.maypascollege.com","/api/v1/course/get/").concat(k)).then(e=>{if(!e.ok)throw Error("Failed to fetch course details");return e.json()}).then(e=>o(e)).catch(()=>N("Oops, something went wrong. Please try again later.")).finally(()=>b(!1)))},[k]),(0,d.useEffect)(()=>{(0,m.bW)().then(e=>{l(Array.isArray(e)?e:e.data||[])}).catch(()=>{})},[]),(0,d.useEffect)(()=>{(null==n?void 0:n.course_category_id)&&(0,_.D)().then(e=>{h((Array.isArray(e)?e:e.data||[]).filter(e=>String(e.course_category_id)===String(n.course_category_id)&&String(e.id)!==String(n.id)).slice(0,4))})},[n]);let A=(null==(e=s.find(e=>String(e.id)===String(null==n?void 0:n.course_category_id)))?void 0:e.name)||(null==n?void 0:n.course_category_id),[P,E]=(0,d.useState)(1),T=e=>E(e),[B,I]=(0,d.useState)(1),[F,M]=(0,d.useState)({age:!1,qualification:!1}),[R,z]=(0,d.useState)({firstName:"",lastName:"",email:"",phone:"",country:"",country_code:""}),[O,D]=(0,d.useState)(""),[G,q]=(0,d.useState)(""),[L,K]=(0,d.useState)(""),H=y.map(e=>({value:String(e.country_code),label:e.country_name})),Y=()=>{I(1),M({age:!1,qualification:!1}),z({firstName:"",lastName:"",email:"",phone:"",country:"",country_code:""}),D(""),q(""),K(""),S(!1)},J=n&&Array.isArray(n.course_data)&&n.course_data.length>0?n.course_data.map((e,c)=>({key:100+c,label:e.course_info_key,value:e.course_info_value})):[];return(0,a.jsxs)(r.A,{headerStyle:3,footerStyle:1,children:[(0,a.jsx)("section",{className:"courses__breadcrumb-area",children:(0,a.jsx)("div",{className:"container",children:x?(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem"},children:"Loading..."}):g?(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem",color:"#ff4f4f"},children:g}):n?(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-8",children:(0,a.jsxs)("div",{className:"courses__breadcrumb-content",children:[(0,a.jsx)("span",{className:"category",style:{fontWeight:600,color:"#4f8cff"},children:A}),(0,a.jsx)("h3",{className:"title",children:n.title}),(0,a.jsx)("p",{children:n.excerpt}),(0,a.jsx)("img",{src:n&&n.featured_image_path?"https://live.maypascollege.com/storage/"+n.featured_image_path:"/assets/img/courses/default.png",alt:n?n.title:"Course image",style:{maxWidth:300,marginBottom:20}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Description:"}),(0,a.jsx)("p",{children:n.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Price:"})," $",n.price]})]})})}):(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem"},children:"Course not found."})})}),v&&!w&&(0,a.jsxs)("div",{onClick:Y,className:"jsx-8c5c2f0a8438a823 enroll-popup-overlay",children:[(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),className:"jsx-8c5c2f0a8438a823 enroll-popup-content",children:(0,a.jsx)(f,{step:B,setStep:I,entryReq:F,setEntryReq:M,personal:R,setPersonal:z,paymentMethod:O,setPaymentMethod:D,stripeCard:G,setStripeCard:q,enrollError:L,setEnrollError:K,countryOptions:H,course:n,categoryName:A,resetEnrollForm:Y,showThankYou:w,setShowThankYou:C})}),(0,a.jsx)(t(),{id:"8c5c2f0a8438a823",children:".enroll-popup-overlay.jsx-8c5c2f0a8438a823{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.45);z-index:9999;display:flex;align-items:center;justify-content:center}.enroll-popup-content.jsx-8c5c2f0a8438a823{max-width:440px;width:100%;background:transparent;border-radius:12px;box-shadow:none;position:relative}"})]}),w&&(0,a.jsx)(j,{onClose:()=>{C(!1),S(!1)}}),(0,a.jsx)("section",{className:"courses-details-area section-pb-120",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-xl-9 col-lg-8",children:(0,a.jsxs)("div",{className:"courses__details-wrapper",children:[(0,a.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[(0,a.jsx)("li",{className:"nav-item",onClick:()=>T(1),children:(0,a.jsx)("button",{className:1===P?"nav-link active":"nav-link",children:"Reviews"})}),J.length>0&&J.map(e=>(0,a.jsx)("li",{className:"nav-item",onClick:()=>T(e.key),children:(0,a.jsx)("button",{className:P===e.key?"nav-link active":"nav-link",children:e.label})},e.key))]}),(0,a.jsx)("div",{className:"tab-content",id:"myTabContent",children:J.length>0&&J.map(e=>P===e.key?(0,a.jsx)("div",{className:"tab-pane active",children:(0,a.jsx)("div",{style:{padding:"1rem"},children:e.value})},e.key):null)})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-lg-4",children:(0,a.jsxs)("aside",{className:"courses__details-sidebar",children:[(0,a.jsxs)("div",{className:"event-widget",children:[(0,a.jsx)("div",{className:"thumb",children:(0,a.jsx)("img",{src:n&&n.featured_image_path?"https://live.maypascollege.com/storage/"+n.featured_image_path:"/assets/img/courses/default.png",alt:n?n.title:"Course image",style:{maxWidth:300,marginBottom:20}})}),(0,a.jsxs)("div",{className:"event-cost-wrap",children:[(0,a.jsxs)("h4",{className:"price",children:[(0,a.jsx)("strong",{children:"Costs:"})," $",n&&n.price?n.price:"N/A"]}),(0,a.jsx)("button",{onClick:()=>S(!0),className:"btn","aria-disabled":!n,children:"Enroll This Now"}),(0,a.jsxs)("div",{className:"event-information-wrap",children:[(0,a.jsx)("h6",{className:"title",children:"Course Info"}),(0,a.jsxs)("ul",{className:"list-wrap",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"flaticon-bars"}),"Category ",(0,a.jsx)("span",{children:A})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"flaticon-user-1"}),"Course ID ",(0,a.jsx)("span",{children:n?n.id:"N/A"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"blog-widget",children:[(0,a.jsx)("h4",{className:"widget-title",children:"Related Courses"}),0===p.length?(0,a.jsx)("div",{children:"No related courses found."}):p.map(e=>(0,a.jsxs)("div",{className:"rc-post-item",children:[(0,a.jsx)("div",{className:"rc-post-thumb",children:(0,a.jsx)(i(),{href:"/course/".concat(e.id),children:(0,a.jsx)("img",{src:e.featured_image_path?"https://live.maypascollege.com/storage/"+e.featured_image_path:"/assets/img/courses/default.png",alt:e.title})})}),(0,a.jsxs)("div",{className:"rc-post-content",children:[(0,a.jsx)("h4",{className:"title",children:(0,a.jsx)(i(),{href:"/course/".concat(e.id),children:e.title})}),(0,a.jsxs)("span",{className:"price",children:["$",e.price]})]})]},e.id))]})]})})]})})})]})}},2754:(e,c,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[id]",function(){return n(1980)}])},5360:(e,c,n)=>{"use strict";function a(){{let e=sessionStorage.getItem("admin_token");return console.log(e),e}}async function o(e){let c=a(),n=new FormData;Object.entries(e).forEach(e=>{let[c,a]=e;n.append(c,a)});let o=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(c),Accept:"application/json"},body:n});if(console.log(o),!o.ok)throw Error("Failed to create category");return o.json()}async function t(){let e=a(),c=await fetch("".concat("https://live.maypascollege.com","/api/v1/course/categories"),{headers:{Authorization:"Bearer ".concat(e)}});if(!c.ok)throw Error("Failed to fetch categories");return c.json()}async function r(e,c){let n=a(),o=new FormData;Object.entries(c).forEach(e=>{let[c,n]=e;o.append(c,n)});let t=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json"},body:o});if(!t.ok)throw Error("Failed to update category");return t.json()}async function s(e){let c=a(),n=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/category/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}});if(!n.ok)throw Error("Failed to delete category");return n.json()}n.d(c,{K7:()=>s,bW:()=>t,st:()=>r,zZ:()=>o})},8760:(e,c,n)=>{"use strict";function a(){return sessionStorage.getItem("admin_token")}async function o(){let e=a(),c=await fetch("".concat("https://live.maypascollege.com","/api/v1/courses/get"),{headers:{Authorization:"Bearer ".concat(e)}});if(!c.ok)throw Error("Failed to fetch courses list");let n=await c.json();return Array.isArray(n)?n:n.data||[]}async function t(e){let c=a(),n=new FormData;for(let c of(Object.entries(e).forEach(e=>{let[c,a]=e;"course_info_name[]"===c&&Array.isArray(a)?a.forEach(e=>n.append("course_info_name[]",e)):"course_info_value[]"===c&&Array.isArray(a)?a.forEach(e=>n.append("course_info_value[]",e)):"featured_image"===c&&a?a instanceof File?n.append("featured_image",a):Array.isArray(a)&&a.forEach(e=>n.append("featured_image",e)):n.append(c,a)}),n.entries()))console.log("FormData:",c[0],":",c[1]);console.log(e),console.log("Creating course with FormData:");let o=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(c),Accept:"application/json"},body:n});if(console.log(o),!o.ok)throw Error("Failed to create course");return o.json()}async function r(e,c){let n=a(),o=new FormData;for(let e of(Object.entries(c).forEach(e=>{let[c,n]=e;"course_info_name[]"===c&&Array.isArray(n)?n.forEach(e=>o.append("course_info_name[]",e)):"course_info_value[]"===c&&Array.isArray(n)?n.forEach(e=>o.append("course_info_value[]",e)):"featured_image"===c&&n?n instanceof File?o.append("featured_image",n):Array.isArray(n)&&n.forEach(e=>o.append("featured_image",e)):o.append(c,n)}),o.entries()))console.log("FormData:",e[0],":",e[1]);let t=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json"},body:o});if(!t.ok)throw Error("Failed to update course");return t.json()}async function s(e){let c=a(),n=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/course/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}});if(!n.ok)throw Error("Failed to delete course");return n.json()}n.d(c,{C_:()=>t,D:()=>o,J4:()=>r,zs:()=>s})}},e=>{e.O(0,[9008,633,3835,7366,9835,636,6593,8792],()=>e(e.s=2754)),_N_E=e.O()}]);