(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8358],{1213:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(7876),l=s(9835),c=s(8230),r=s.n(c),i=s(9099),o=s(4232),n=s(2871);function d(){var e;let{id:t}=(0,i.useRouter)().query,[s,c]=(0,o.useState)(null),[d,h]=(0,o.useState)(!0),[m,g]=(0,o.useState)(""),[j,u]=(0,o.useState)([]);if((0,o.useEffect)(()=>{t&&(h(!0),g(""),(0,n.kz)().then(e=>(u(e),fetch("".concat("https://live.maypascollege.com","/api/v1/blog/get/").concat(t)))).then(e=>{if(!e.ok)throw Error("Failed to fetch blog");return e.json()}).then(e=>c(e)).catch(()=>g("Oops, something went wrong. Please try again later.")).finally(()=>h(!1)))},[t]),d)return(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem"},children:"Loading blog..."});if(m)return(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem",color:"#ff4f4f"},children:m});if(!s)return(0,a.jsx)("div",{style:{textAlign:"center",margin:"2rem"},children:"Blog not found."});let p=j.map(e=>e.id).sort((e,t)=>e-t),x=p.indexOf(Number(t)),b=x>0?p[x-1]:null,_=x<p.length-1?p[x+1]:null;return(0,a.jsx)(l.A,{headerStyle:3,footerStyle:1,breadcrumbTitle:"Blog Details",children:(0,a.jsx)("section",{className:"blog-standard-area section-py-120",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-lg-8",children:[(0,a.jsxs)("div",{className:"blog__standard-post blog__details-wrapper",children:[(0,a.jsx)("div",{className:"blog__standard-thumb",children:(0,a.jsx)("img",{src:s.featured_image_path?"https://live.maypascollege.com/storage/"+s.featured_image_path:"/assets/img/blog/blog_thumb07.jpg",className:"w-100",alt:s.title})}),(0,a.jsxs)("div",{className:"blog__standard-content blog-details-content",children:[(0,a.jsx)("h3",{className:"title",children:s.title}),(0,a.jsxs)("ul",{className:"list-wrap blog__post-meta",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"flaticon-account"})," by"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"flaticon-calendar-date"})," ",null==(e=s.created_at)?void 0:e.slice(0,10)]})]}),(0,a.jsx)("p",{children:s.excerpt||""}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:s.content}})]})]}),(0,a.jsx)("div",{className:"blog__next-prev mb-50",children:(0,a.jsxs)("div",{className:"row",children:[b&&(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"blog__prev-item",children:[(0,a.jsx)("div",{className:"blog__prev-thumb",children:(0,a.jsx)(r(),{href:"/blog/".concat(b),children:(0,a.jsx)("img",{src:"/assets/img/blog/blog_standard04.jpg",alt:"Previous Blog"})})}),(0,a.jsxs)("div",{className:"blog__prev-content",children:[(0,a.jsx)("span",{className:"caption",children:"Previous Post"}),(0,a.jsx)("h5",{className:"title",children:(0,a.jsx)(r(),{href:"/blog/".concat(b),children:"Previous Blog"})})]})]})}),_&&(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"blog__prev-item next",children:[(0,a.jsx)("div",{className:"blog__prev-thumb",children:(0,a.jsx)(r(),{href:"/blog/".concat(_),children:(0,a.jsx)("img",{src:"/assets/img/blog/blog_standard03.jpg",alt:"Next Blog"})})}),(0,a.jsxs)("div",{className:"blog__prev-content",children:[(0,a.jsx)("span",{className:"caption",children:"Next Post"}),(0,a.jsx)("h5",{className:"title",children:(0,a.jsx)(r(),{href:"/blog/".concat(_),children:"Next Blog"})})]})]})})]})})]}),(0,a.jsx)("div",{className:"col-lg-4",children:(0,a.jsx)("aside",{className:"blog-sidebar",children:(0,a.jsxs)("div",{className:"blog-widget",children:[(0,a.jsx)("h4",{className:"widget-title",children:"Recent Posts"}),j.slice(0,3).map(e=>{var t;return(0,a.jsxs)("div",{className:"rc-post-item",children:[(0,a.jsx)("div",{className:"rc-post-thumb",children:(0,a.jsx)(r(),{href:"/blog/".concat(e.id),children:(0,a.jsx)("img",{src:e.featured_image_path?"https://live.maypascollege.com/storage/"+e.featured_image_path:"/assets/img/blog/blog_thumb07.jpg",alt:e.title})})}),(0,a.jsxs)("div",{className:"rc-post-content",children:[(0,a.jsx)("h4",{className:"title",children:(0,a.jsx)(r(),{href:"/blog/".concat(e.id),children:e.title})}),(0,a.jsxs)("span",{className:"date",children:[(0,a.jsx)("i",{className:"flaticon-calendar-date"})," ",null==(t=e.created_at)?void 0:t.slice(0,10)]})]})]},e.id)})]})})})]})})})})}},2871:(e,t,s)=>{"use strict";function a(){return sessionStorage.getItem("admin_token")}async function l(){let e=a(),t=await fetch("".concat("https://live.maypascollege.com","/api/v1/blogs/get"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch blogs");let s=await t.json();return Array.isArray(s)?s:s.data||[]}async function c(e){let t=a(),s=new FormData;for(let t of(Object.entries(e).forEach(e=>{let[t,a]=e;s.append(t,a)}),s.entries()))console.log("FormData:",t[0],":",t[1]);let l=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/blog/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s});if(!l.ok)throw Error("Failed to create blog");return l.json()}async function r(e,t){let s=a(),l=new FormData;Object.entries(t).forEach(e=>{let[t,s]=e;l.append(t,s)});let c=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/blog/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:l});if(!c.ok)throw Error("Failed to update blog");return c.json()}async function i(e){let t=a(),s=await fetch("".concat("https://live.maypascollege.com","/api/v1/contents/blog/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(!s.ok)throw Error("Failed to delete blog");return s.json()}s.d(t,{$5:()=>c,c5:()=>r,cc:()=>i,kz:()=>l})},3936:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[id]",function(){return s(1213)}])}},e=>{e.O(0,[9008,633,9835,636,6593,8792],()=>e(e.s=3936)),_N_E=e.O()}]);